<div class="mad-libs">
<%= form_for(@response) do |f| %>
<%= f.hidden_field :user_id, :value => current_user.id %>
<table class="mad_libs_table">
  <tr>
    <td style="vertical-align:top"><div class="begin-quote">&#8220;</div></td>
    <td class="madlibs-content round15px heyfade">
    <%=raw @stack.madlibs_1 %>
	<% if @stack.madlibs_1_type == "Numeric" %>
	  <label>
		<% if session[:you] %>
		  <%= f.text_field :value, :size => 2, :value => "#{@response_value}", :class => "fill_in_the_blank", :onfocus => "this.style.background = 'white';", :onblur => "this.style.background = 'none';" %>
		  <span><%= @stack.madlibs_1_label %></span>
		<% else %>
		  <%= f.text_field :value, :size => 2, :class => "fill_in_the_blank", :style => "background:white;", :onfocus => "this.style.background = 'white';",  :onblur => "this.style.background = 'none';" %>
		  <span>enter <%= @stack.madlibs_1_label %></span>
		<% end %>
	  </label>
	<% else %>
	  <%= f.select :qualifier1, [[@stack.madlibs_1_option_1], [@stack.madlibs_1_option_2], [@stack.madlibs_1_option_3], [@stack.madlibs_1_option_4], [@stack.madlibs_1_option_5], [@stack.madlibs_1_option_6], [@stack.madlibs_1_option_7], [@stack.madlibs_1_option_8], [@stack.madlibs_1_option_9], [@stack.madlibs_1_option_10], [@stack.madlibs_1_option_11], [@stack.madlibs_1_option_12], ], { }, { :style => 'display:inline; background:#ffdd55;' } %>
	<% end %>
    <%= @stack.madlibs_2 %>
	<% if !@stack.madlibs_2_label.blank? %>
	  <label>
		<%= f.text_field :value, :size => 2, :value => "#{@response_value}", :class => "fill_in_the_blank", :onfocus => "this.style.background = 'white';", :onblur => "this.style.background = 'none';" %>
		<span><%= @stack.madlibs_2_label %></span>
	  </label>
	  <%= @stack.madlibs_3 %>
	<% end %>
	<% if @ask_location %>
	  and I live in zip code&nbsp;
	  <label>
		<%= fields_for(:user) do |u| %>
		<%= u.hidden_field :email, :value => @email %>
		<% if session[:you] %>
		  <%= u.text_field :zipcode, :size => 5, :value => "#{@zipcode}", :class => "fill_in_the_blank", :onfocus => "this.style.background = 'white';", :onblur => "this.style.background = 'none';" %>
		  <span>zipcode</span>
		<% else %>
		  <%= u.text_field :zipcode, :size => 5, :class => "fill_in_the_blank", :style => "background:white;", :onfocus => "this.style.background = 'white';", :onblur => "this.style.background = 'none';" %>
		  <span>enter zipcode</span>
		<% end %>
		<% end %>
	  </label>
	<% else %>
	  <%= fields_for(:user) do |u| %>
	  <%= u.hidden_field :email, :value => @email %>
	  <%= u.hidden_field :zipcode, :value => @zipcode %>
	  <% end %>
	<% end %>
	.
    </td>
    <td style="vertical-align:bottom"><div class="end-quote">&#8221;</div></td>
  </tr>
</table>
<%= f.submit "Stack Me Up!", :class => "submit_button round" %>
<br/>
<% if @ask_location %>
<div class="centered text-75"><a href="#not_alexandria" rel="facebox">Is Heystack available for my community?</a></div>
<% end %>

<div id="not_alexandria" style="display:none;">
Heystack is currently available for Alexandria, Virginia<br/>
only. If you'd like us to expand, send us a comment!
</div>

</div>
<% end %>
