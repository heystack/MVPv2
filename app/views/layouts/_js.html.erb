<%= javascript_include_tag 'application' %>
<!--[if IE]> <script src="/javascripts/excanvas.compiled.js" type="text/javascript"></script> <![endif]-->

<script type="text/javascript">
  jQuery(document).ready(function($) {
    $('a[rel*=facebox]').facebox({
      loadingImage : '<%= image_path("loading.gif") %>',
      closeImage   : '<%= image_path("closelabel.png") %>'
    })
  })
</script>

<script type="text/javascript">
$(document).ready(
    function(){
        $('#prefill').each(
            function(){
                $(this).click(
                    function(){
                        $(this)
                            .val('')
                            .css('color','#000');
                    });
                $(this).blur(
                    function(){
                        if ($(this).val() === ''){
                            $(this)
                                .val($(this).attr('placeholder'))
                                .css('color','#999');
                        }
                    });
            });
    });

	$('.checkable').live('change', 
	function() {
	    $(this).parents('form:first').submit();
	});
	
	// Cool tooltip effect not working from http://flowplayer.org/tools/demos/tooltip/form.html
	$(":input").tooltip({
		position: "center right",
		offset: [-2, 10],
		effect: "fade",
		opacity: 0.7
	});
	
	$("#loading").ajaxStart(function(){
	    $(this).show();
	 }).ajaxStop(function(){
	    $(this).hide();
	 });
</script>

<script type="text/javascript">
// validates that the field value string has one or more characters in it
function isNotEmpty(elem) {
  var str = elem.value;
    var re = /.+/;
    if(!str.match(re)) {
        alert(elem.name + " cannot be blank.");
        setTimeout("focusElement('" + elem.form.name + "', '" + elem.name + "')", 0);
        return false;
    } else {
        return true;
    }
}

// batch validation router
function validateForm(form) {
    if (isNotEmpty(form.suggestion_topic)) {
		return true;
    }
    return false;
}

function validateNameInComments(form) {
    if (isNotEmpty(form.user_name)) {
		return true;
    }
	alert("Please provide your name along with your comment.");
    return false;
}

function validateQualifier(form) {
    if (form.response_qualifier1.value == "Choose..." || form.response_qualifier1.value == "") {
		alert("Please choose an option from the dropdown.");
	    return false;
    }
    return true;
}

function unhide(divID) {
	var item = document.getElementById(divID);
	if (item) {
		item.className='unhidden';
	}
}
</script>

<script type="text/javascript">
function imposeMaxLength(field,maxChars)
{
	if(field.value.length >= maxChars) {
      alert("As a friend once told me, \"Brevity equals Clarity\"...we're going to have to limit you to " + maxChars + " characters.");
	  return false;
	}
}  

function imposeMaxLengthPaste(field,maxChars)
{
    if(field.value.length > maxChars) {
	  chopped = field.value.substr(0, maxChars-1);
	  field.value = chopped;
      alert("As a friend once told me, \"Brevity equals Clarity\"...we're going to have to limit you to " + maxChars + " characters.");
      return false;
    }
}
</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26915737-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- <script>
// execute your scripts when the DOM is ready. this is a good habit
$(function() {



// select all desired input fields and attach tooltips to them
$("#new_response :input").tooltip({

	// place tooltip on the right edge
	position: "bottom right",

	// a little tweaking of the position
	offset: [-5, 10],

	// use the built-in fadeIn/fadeOut effect
	effect: "fade",

	// custom opacity setting
	opacity: 0.6

});
});
</script> -->
